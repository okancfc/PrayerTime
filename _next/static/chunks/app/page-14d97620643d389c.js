(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{4960:(e,t,n)=>{Promise.resolve().then(n.bind(n,9883))},9883:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var s=n(5155),l=n(2115);function a(e){let{time:t,name:n,index:l=0}=e,a=["bg-lime-950","bg-lime-900","bg-lime-800","bg-lime-700","bg-lime-600","bg-lime-500"],i=a[l%a.length];return(0,s.jsxs)("div",{className:"flex-1 flex font-bold text-center border-t border-b border-white/10 ".concat(i),children:[(0,s.jsx)("div",{className:"w-1/2 flex justify-end items-center",children:(0,s.jsx)("h2",{className:"text-3xl md:text-2xl px-6",children:t})}),(0,s.jsx)("div",{className:"w-1/2 flex justify-start items-center",children:(0,s.jsx)("h2",{className:"text-3xl md:text-2xl px-6",children:n})})]})}let i=e=>{let{targetTime:t,prayerName:n}=e,[a,i]=(0,l.useState)({hours:0,minutes:0,seconds:0});(0,l.useEffect)(()=>{let e=()=>{try{let e=new Date,s=e.toISOString().split("T")[0],[l,a]=t.split(":"),r=parseInt(l,10),m=parseInt(a,10);if(isNaN(r)||isNaN(m)){console.error("Ge\xe7ersiz zaman formatı:",t);return}let c=new Date(s);c.setHours(r,m,0,0),c<e&&!n.includes("Yarın")&&c.setDate(c.getDate()+1);let o=c.getTime()-e.getTime();if(o>0){let e=Math.floor(o/36e5),t=Math.floor(o%36e5/6e4),n=Math.floor(o%6e4/1e3);i({hours:e,minutes:t,seconds:n})}else i({hours:0,minutes:0,seconds:0})}catch(e){console.error("Geri sayım hesaplamasında hata:",e)}};e();let s=setInterval(e,1e3);return()=>clearInterval(s)},[t,n]),console.log("Target time:",t),console.log("Current time left:",a);let r=e=>String(e).padStart(2,"0");return(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center mt-4",children:[(0,s.jsxs)("div",{className:"text-5xl font-bold",children:[r(a.hours),":",r(a.minutes),":",r(a.seconds)]}),(0,s.jsxs)("div",{className:"mt-2 text-xl",children:[n," Vaktine Kalan S\xfcre"]})]})};function r(){let[e,t]=(0,l.useState)([]),[n,r]=(0,l.useState)(!0),[m,c]=(0,l.useState)(null),[o,d]=(0,l.useState)(null);(0,l.useEffect)(()=>{!async function(){try{r(!0);let e=await fetch("https://api.aladhan.com/v1/timingsByCity?city=Istanbul&country=Turkey&method=13");if(!e.ok)throw Error("Namaz vakitleri alınamadı");let n=(await e.json()).data.timings,s=[{name:"İmsak",time:n.Fajr},{name:"G\xfcneş",time:n.Sunrise},{name:"\xd6ğle",time:n.Dhuhr},{name:"İkindi",time:n.Asr},{name:"Akşam",time:n.Maghrib},{name:"Yatsı",time:n.Isha}];t(s);let l=u(s);l&&d(l)}catch(e){c("Namaz vakitleri y\xfcklenirken bir hata oluştu."),console.error(e)}finally{r(!1)}}();let n=setInterval(()=>{if(e.length>0){let t=u(e);t&&d(t)}},6e4);return()=>clearInterval(n)},[]);let u=e=>{if(!e||0===e.length)return null;let t=new Date,n=60*t.getHours()+t.getMinutes(),s=e.map(e=>{let[t,n]=e.time.split(":").map(Number);return{name:e.name,time:e.time,timeInMinutes:60*t+n}}).filter(e=>e.timeInMinutes>n);if(!(s.length>0))return{name:e[0].name+" (Yarın)",time:e[0].time};{let e=s.reduce((e,t)=>t.timeInMinutes<e.timeInMinutes?t:e);return{name:e.name,time:e.time}}};return n?(0,s.jsx)("div",{className:"flex items-center justify-center h-screen text-white bg-lime-950",children:(0,s.jsx)("p",{children:"Namaz vakitleri y\xfckleniyor..."})}):m?(0,s.jsxs)("div",{className:"flex items-center justify-center h-screen text-white bg-lime-950",children:[(0,s.jsx)("p",{children:m}),(0,s.jsx)("p",{children:"L\xfctfen internet bağlantınızı kontrol edin ve sayfayı yenileyin."})]}):(0,s.jsxs)("div",{className:"flex flex-col text-white bg-lime-950 h-screen",children:[(0,s.jsx)("div",{className:"flex justify-center items-center p-4",children:o&&(0,s.jsxs)("div",{className:"text-center p-4 border rounded-2xl border-white/20 mb-2",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold mb-2",children:"Sıradaki Namaz"}),(0,s.jsxs)("h2",{className:"text-xl",children:[o.name," - ",o.time]}),(0,s.jsx)(i,{targetTime:o.time,prayerName:o.name})]})}),(0,s.jsx)("div",{className:"flex-1 flex flex-col",children:e.map((e,t)=>(0,s.jsx)(a,{time:e.time,name:e.name,index:t},t))})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[441,684,358],()=>t(4960)),_N_E=e.O()}]);